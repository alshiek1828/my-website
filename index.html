<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ALSHIEK_Ø§Ù„Ø´Ù€ÙŠÙ€Ù€Ø® - Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</title>
  <style>
    /* Reset */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to bottom, #1c1c1c, #2b2b2b);
      color: #fff; direction: rtl;
    }
    header, footer { text-align: center; padding: 20px; }
    header h1 { font-size: 2.5em; color: #00ffe7; text-shadow: 0 0 10px #00ffe7; }
    nav { text-align: center; margin: 10px 0; }
    nav button {
      background: #ff0066; color: #fff; border: none; padding: 10px 20px;
      margin: 0 5px; border-radius: 20px; cursor: pointer;
      box-shadow: 0 0 10px #ff0066; transition: .3s;
    }
    nav button.active, nav button:hover { background: #ff3388; transform: scale(1.05); }
    section { display: none; padding: 20px; }
    section.active { display: block; }
    .btn { background: #00aaff; color: #fff; border: none; padding: 10px 20px;
           border-radius: 20px; cursor: pointer; box-shadow: 0 0 10px #00aaff;
           transition: .3s; margin: 5px; }
    .btn:hover { background: #33bbff; transform: scale(1.05); }
    .option { display: block; background: #444; color: #fff; border: none;
              padding: 10px; margin: 8px auto; width: 80%; max-width: 400px;
              border-radius: 10px; cursor: pointer; transition: .2s; text-align: left; }
    .option:hover { background: rgba(255,255,255,0.1); }
    #feedback { margin-top: 20px; font-size: 1.2em; }
    #next { display: none; margin-top: 20px; }
    table { width: 90%; margin: 10px auto; border-collapse: collapse; }
    th, td { border: 1px solid #555; padding: 10px; text-align: center; }
    th { background: #222; }
    #admin-panel { display: none; position: fixed; top:0; left:0; width:100%; height:100%;
                   background: rgba(0,0,0,0.9); color:#fff; overflow:auto; padding:20px; }
    #admin-panel h2 { margin-bottom: 10px; }
    #admin-panel .section { margin-bottom: 20px; border-bottom:1px solid #555; padding-bottom: 15px; }
    #admin-panel label { display: block; margin: 5px 0; text-align: left; }
    #admin-panel input, #admin-panel textarea, #admin-panel select {
      width: 100%; padding:8px; margin-bottom:10px; background:#333; border:1px solid #555; color:#fff;
    }
    #admin-panel button { margin:5px 0; padding:8px 16px; }
    #settings-panel { display: none; position: fixed; top:0; left:0; width:100%; height:100%;
      background: rgba(0,0,0,0.7); color:#fff; overflow:auto; padding:20px; z-index:9999;}
    #settings-panel label {display:block;margin:10px 0 5px;}
    #settings-panel input {width:100%;padding:8px;margin-bottom:10px;background:#222;border:1px solid #555;color:#fff;}
    #settings-panel button {margin:5px 0;padding:8px 16px;}
  </style>
</head>
<body>

  <header>
    <h1>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</h1>
  </header>

  <nav>
    <button data-tab="home" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <button data-tab="science">Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ù„Ù…ÙŠ</button>
    <button data-tab="religion">Ø§Ø®ØªØ¨Ø§Ø± Ø¯ÙŠÙ†ÙŠ</button>
    <button data-tab="leaderboard">Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</button>
    <button id="open-admin">Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</button>
    <button id="open-settings">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
  </nav>

  <!-- Home -->
  <section id="home" class="active">
    <p id="greeting"></p>
    <button class="btn" onclick="showTab('science')">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¹Ù„Ù…ÙŠ</button>
    <button class="btn" onclick="showTab('religion')">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯ÙŠÙ†ÙŠ</button>
    <button class="btn" onclick="showTab('leaderboard')">Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</button>
  </section>

  <!-- Science Quiz -->
  <section id="science">
    <h2>Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ù„Ù…ÙŠ</h2>
    <div id="q-science"></div>
    <div id="opts-science"></div>
    <div id="fb-science"></div>
    <button id="next-science">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </section>

  <!-- Religion Quiz -->
  <section id="religion">
    <h2>Ø§Ø®ØªØ¨Ø§Ø± Ø¯ÙŠÙ†ÙŠ</h2>
    <div id="q-religion"></div>
    <div id="opts-religion"></div>
    <div id="fb-religion"></div>
    <button id="next-religion">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </section>

  <!-- Leaderboard -->
  <section id="leaderboard">
    <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</h2>
    <h3>Ø¹Ù„Ù…ÙŠ</h3>
    <table><tr><th>Ø§Ø³Ù…</th><th>Ù…Ø¹Ø±Ù‘Ù</th><th>Ù†Ù‚Ø§Ø·</th><th>Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù</th></tr><tbody id="lb-sci"></tbody></table>
    <h3>Ø¯ÙŠÙ†ÙŠ</h3>
    <table><tr><th>Ø§Ø³Ù…</th><th>Ù…Ø¹Ø±Ù‘Ù</th><th>Ù†Ù‚Ø§Ø·</th><th>Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù</th></tr><tbody id="lb-rel"></tbody></table>
  </section>

  <!-- Admin Panel -->
  <div id="admin-panel">
    <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</h2>
    <div class="section" id="admin-auth">
      <label>ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø£Ø¯Ù…Ù†:</label>
      <input type="password" id="admin-pass">
      <button onclick="loginAdmin()">Ø¯Ø®ÙˆÙ„</button>
    </div>
    <div class="section" id="admin-controls" style="display:none;">
      <h3>Ø­Ø¸Ø±/ÙÙƒ Ø­Ø¸Ø± Ù…Ø³ØªØ®Ø¯Ù…</h3>
      <label>ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label><input type="text" id="ban-id">
      <label>Ù…Ø¯Ø© Ø§Ù„Ø­Ø¸Ø± (Ø¯Ù‚Ø§Ø¦Ù‚):</label><input type="number" id="ban-min" value="60">
      <button onclick="banUser()">Ø­Ø¸Ø±</button>
      <br>
      <label>ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label><input type="text" id="unban-id">
      <button onclick="unbanUser()">ÙÙƒ Ø§Ù„Ø­Ø¸Ø±</button>

      <h3>Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©</h3>
      <label>ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label><input type="text" id="msg-id">
      <label>Ø§Ù„Ù…Ø­ØªÙˆÙ‰:</label><textarea id="msg-txt"></textarea>
      <label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª:</label><input type="number" id="msg-times" value="1">
      <button onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>

      <h3>ÙˆØ¶Ø¹ Ø§Ù„ØµÙŠØ§Ù†Ø©</h3>
      <label>Ø§Ù„Ø­Ø§Ù„Ø©:</label>
      <select id="maint-mode"><option value="off">Ø¥ÙŠÙ‚Ø§Ù</option><option value="on">ØªØ´ØºÙŠÙ„</option></select>
      <label>Ø§Ù„Ù…Ø¯Ø© (Ø¯Ù‚Ø§Ø¦Ù‚):</label><input type="number" id="maint-min" value="30">
      <button onclick="applyMaintenance()">ØªØ·Ø¨ÙŠÙ‚</button>

      <h3>Ù…Ù†Ø­ ØµÙ„Ø§Ø­ÙŠØ© Ø£Ø¯Ù…Ù†</h3>
      <label>ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label><input type="text" id="grant-id">
      <button onclick="grantAdmin()">Ù…Ù†Ø­</button>

      <h3>ØªØ¹Ø¯ÙŠÙ„ Ù†Ù‚Ø§Ø·</h3>
      <label>ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label><input type="text" id="score-id">
      <label>Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</label><input type="number" id="score-val">
      <button onclick="updateScoreAdmin()">ØªØ­Ø¯ÙŠØ«</button>

      <button onclick="closeAdmin()">Ø®Ø±ÙˆØ¬</button>
    </div>
  </div>

  <!-- Settings Panel -->
  <div id="settings-panel">
    <h2>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
    <label>Ø§Ø³Ù…Ùƒ:</label>
    <input type="text" id="settings-name">
    <label>Ù…Ø¹Ø±Ù‘ÙÙƒ Ø§Ù„Ø´Ø®ØµÙŠ:</label>
    <input type="text" id="settings-id" readonly>
    <button onclick="copyID()">Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù‘Ù</button>
    <button onclick="saveName()">Ø­ÙØ¸ Ø§Ù„Ø§Ø³Ù…</button>
    <button onclick="closeSettings()">Ø¥ØºÙ„Ø§Ù‚</button>
  </div>

  <footer>&copy; 2025 - Made with madness by ãƒ„ã€ŠğŸ‘‘ã€‹Í²ï¼“ã€ŠØ´Ù€Ù€ÙŠÙ€Ø®ã€‹</footer>

<script>
  // Unique ID functions
  function generateID() {
    return 'ID-' + Math.random().toString(36).substr(2,8) + '-' + Date.now().toString(36).substr(-4);
  }
  let player = localStorage.getItem('playerName');
  let playerID = localStorage.getItem('playerID');
  if(!player || !playerID) {
    do {
      player = prompt('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª:') || '';
    } while(!player.trim());
    playerID = generateID();
    localStorage.setItem('playerName', player);
    localStorage.setItem('playerID', playerID);
  }
  document.getElementById('greeting').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${player}! Ù…Ø¹Ø±Ù‘ÙÙƒ: ${playerID}`;

  // Settings Panel logic
  document.getElementById('open-settings').onclick = function() {
    document.getElementById('settings-name').value = player;
    document.getElementById('settings-id').value = playerID;
    document.getElementById('settings-panel').style.display = 'block';
  }
  function closeSettings() {
    document.getElementById('settings-panel').style.display = 'none';
  }
  function copyID() {
    navigator.clipboard.writeText(playerID);
    alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù‘Ù: " + playerID);
  }
  function saveName() {
    let newName = document.getElementById('settings-name').value.trim();
    if(newName) {
      player = newName;
      localStorage.setItem('playerName', player);
      document.getElementById('greeting').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${player}! Ù…Ø¹Ø±Ù‘ÙÙƒ: ${playerID}`;
      alert('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù…');
    }
    closeSettings();
    renderLB('science', 'lb-sci');
    renderLB('religion', 'lb-rel');
  }

  // Tab switching
  document.querySelectorAll('nav button[data-tab]').forEach(btn=>{
    btn.onclick = ()=> showTab(btn.dataset.tab);
  });
  function showTab(tab) {
    document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
    document.querySelector(`[data-tab="${tab}"]`).classList.add('active');
    document.querySelectorAll('section').forEach(sec=>sec.classList.remove('active'));
    document.getElementById(tab).classList.add('active');
  }

  // Questions data (Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¬Ø¯Ø§Ù‹)
  const sciQ = [
    {q:'Ø£Ù‚Ø±Ø¨ ÙƒÙˆÙƒØ¨ Ù„Ù„Ø´Ù…Ø³ØŸ', opts:['Ø§Ù„Ø²Ù‡Ø±Ø©','Ø¹Ø·Ø§Ø±Ø¯','Ø§Ù„Ù…Ø±ÙŠØ®','Ø§Ù„Ù…Ø´ØªØ±ÙŠ'], a:1},
    {q:'Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ù…Ø§Ø¯Ø©ØŸ', opts:['Ø¨Ø±ÙˆØªÙˆÙ†','Ø¬Ø²ÙŠØ¡','Ø°Ø±Ø©','Ø¥Ù„ÙƒØªØ±ÙˆÙ†'], a:2},
    {q:'Ø³Ø±Ø¹Ø© Ø§Ù„Ø¶ÙˆØ¡ØŸ', opts:['300,000km/s','150,000km/s','30,000km/s','3,000km/s'], a:0},
    {q:'Ù…Ù† Ù‡Ùˆ Ø£Ø¨Ùˆ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ØŸ', opts:['Ø¬Ø§Ø¨Ø± Ø¨Ù† Ø­ÙŠØ§Ù†','Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠ','Ø§Ø¨Ù† Ø³ÙŠÙ†Ø§','Ù†ÙŠÙˆØªÙ†'], a:0},
    {q:'Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø£ÙƒØ«Ø± ÙˆÙØ±Ø© ÙÙŠ Ø§Ù„ÙƒÙˆÙ†ØŸ', opts:['Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†','Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†','Ø§Ù„Ø°Ù‡Ø¨','Ø§Ù„Ø­Ø¯ÙŠØ¯'], a:0},
    {q:'Ø£ÙƒØ¨Ø± Ø¹Ø¶Ùˆ ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ', opts:['Ø§Ù„Ù‚Ù„Ø¨','Ø§Ù„ÙƒØ¨Ø¯','Ø§Ù„Ø¬Ù„Ø¯','Ø§Ù„Ø±Ø¦Ø©'], a:2},
    {q:'Ù…Ø§ Ø§Ù„ØºØ§Ø² Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ù„Ù„ØªÙ†ÙØ³ØŸ', opts:['Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†','Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†','Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†','Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†'], a:1},
    {q:'ÙƒÙ… Ø¹Ø¯Ø¯ ÙƒÙˆØ§ÙƒØ¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©ØŸ', opts:['8','9','10','7'], a:0},
    {q:'Ù…Ù† Ù…ÙƒØªØ´Ù Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©ØŸ', opts:['Ø£ÙŠÙ†Ø´ØªØ§ÙŠÙ†','ØºØ§Ù„ÙŠÙ„Ùˆ','Ù†ÙŠÙˆØªÙ†','Ø§Ø¨Ù† Ø§Ù„Ù‡ÙŠØ«Ù…'], a:2},
    {q:'Ø£Ù‚ÙˆÙ‰ Ø¹Ø¸Ù… ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ', opts:['Ø§Ù„ÙØ®Ø°','Ø§Ù„Ø¬Ù…Ø¬Ù…Ø©','Ø§Ù„Ø°Ø±Ø§Ø¹','Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„ÙÙ‚Ø±ÙŠ'], a:0},
    {q:'Ø£Ù‚Ø±Ø¨ Ù†Ø¬Ù… Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ØŸ', opts:['Ø§Ù„Ø´Ø¹Ø±Ù‰','Ø§Ù„Ø´Ù…Ø³','Ø§Ù„Ù†Ø¬Ù… Ø§Ù„Ù‚Ø·Ø¨ÙŠ','Ù†ÙˆÙ†'], a:1},
    {q:'Ù…Ø§ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„ØªÙŠ ØªÙ‚Ø§Ø³ Ø¨Ù‡Ø§ Ø´Ø¯Ø© Ø§Ù„ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ', opts:['ÙÙˆÙ„Øª','Ø£ÙˆÙ…','Ø£Ù…Ø¨ÙŠØ±','ÙˆØ§Ø·'], a:2},
    {q:'Ø£ØµØºØ± ÙˆØ­Ø¯Ø© ÙÙŠ Ø§Ù„Ù…Ø§Ø¯Ø©ØŸ', opts:['Ø°Ø±Ø©','Ø¬Ø²ÙŠØ¡','Ø®Ù„ÙŠØ©','Ø¨Ø±ÙˆØªÙˆÙ†'], a:0},
    {q:'Ø£ÙŠÙ† ØªØ­Ø¯Ø« Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¶ÙˆØ¦ÙŠØŸ', opts:['Ø§Ù„Ø¬Ø°ÙˆØ±','Ø§Ù„Ø£ÙˆØ±Ø§Ù‚','Ø§Ù„Ø¬Ø°Ø¹','Ø§Ù„Ø«Ù…Ø§Ø±'], a:1},
    {q:'Ù…Ø§ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠÙÙ„Ù‚Ø¨ Ø¨Ø³ÙÙŠÙ†Ø© Ø§Ù„ØµØ­Ø±Ø§Ø¡ØŸ', opts:['Ø§Ù„Ø­ØµØ§Ù†','Ø§Ù„Ø¬Ù…Ù„','Ø§Ù„Ø¨Ù‚Ø±Ø©','Ø§Ù„Ù…Ø§Ø¹Ø²'], a:1},
    {q:'Ù…Ù† Ø£ÙˆÙ„ Ù…Ù† Ù…Ø´Ù‰ Ø¹Ù„Ù‰ Ø³Ø·Ø­ Ø§Ù„Ù‚Ù…Ø±ØŸ', opts:['Ù†ÙŠÙ„ Ø¢Ø±Ù…Ø³ØªØ±ÙˆÙ†Øº','ÙŠÙˆØ±ÙŠ ØºØ§ØºØ§Ø±ÙŠÙ†','Ø£ÙˆØ¨Ø§Ù…Ø§','Ø£ÙŠÙ†Ø´ØªØ§ÙŠÙ†'], a:0}
  ];
  const relQ = [
    {q:'Ø¹Ø¯Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ', opts:['3','4','5','6'], a:2},
    {q:'Ø£ÙˆÙ„ Ø³ÙˆØ±Ø© Ù†Ø²Ù„ØªØŸ', opts:['Ø§Ù„ÙØ§ØªØ­Ø©','Ø§Ù„Ø¹Ù„Ù‚','Ø§Ù„ÙØ±Ù‚Ø§Ù†','Ø§Ù„Ø£Ù†Ø¹Ø§Ù…'], a:1},
    {q:'Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø±ØŸ', opts:['Ø´ÙˆØ§Ù„','Ø±Ù…Ø¶Ø§Ù†','Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©','Ø´Ø¹Ø¨Ø§Ù†'], a:1},
    {q:'ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…ÙØ±ÙˆØ¶Ø©ØŸ', opts:['3','4','5','6'], a:2},
    {q:'Ø´Ù‡Ø± Ø§Ù„ØµÙˆÙ…ØŸ', opts:['Ø±Ù…Ø¶Ø§Ù†','Ø´Ø¹Ø¨Ø§Ù†','Ù…Ø­Ø±Ù…','Ø´ÙˆØ§Ù„'], a:0},
    {q:'Ù‚Ø¨Ù„Ø© Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†ØŸ', opts:['Ø§Ù„Ù‚Ø¯Ø³','Ø§Ù„ÙƒØ¹Ø¨Ø©','Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©','Ø¯Ù…Ø´Ù‚'], a:1},
    {q:'Ù…Ù† Ø£ÙˆÙ„ Ù†Ø¨ÙŠØŸ', opts:['Ù…ÙˆØ³Ù‰','Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…','Ø¢Ø¯Ù…','Ù†ÙˆØ­'], a:2},
    {q:'ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ø³Ù…Ø§ÙˆÙŠØ©ØŸ', opts:['3','4','5','6'], a:1},
    {q:'Ù…Ù† Ø§Ù„Ù†Ø¨ÙŠ Ø§Ù„Ø°ÙŠ Ø§Ø¨ØªÙ„Ø¹Ù‡ Ø§Ù„Ø­ÙˆØªØŸ', opts:['ÙŠÙˆÙ†Ø³','Ù…ÙˆØ³Ù‰','Ø¹ÙŠØ³Ù‰','Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…'], a:0},
    {q:'Ù…Ø§ Ø§Ø³Ù… ÙˆØ§Ù„Ø¯Ø© Ø§Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ØŸ', opts:['Ø¢Ù…Ù†Ø©','Ø®Ø¯ÙŠØ¬Ø©','Ù…Ø±ÙŠÙ…','ÙØ§Ø·Ù…Ø©'], a:0},
    {q:'Ù…Ø§ Ù‡ÙŠ Ø£Ø·ÙˆÙ„ Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ', opts:['Ø§Ù„Ø¨Ù‚Ø±Ø©','Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†','Ø§Ù„Ù†Ø³Ø§Ø¡','Ø§Ù„Ø£Ù†Ø¹Ø§Ù…'], a:0},
    {q:'Ù…Ù† Ù‡Ùˆ Ø®Ø§ØªÙ… Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ØŸ', opts:['Ø¹ÙŠØ³Ù‰','Ù…ÙˆØ³Ù‰','Ù…Ø­Ù…Ø¯','Ù†ÙˆØ­'], a:2},
    {q:'Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¬Ø¨Ù„ Ø§Ù„Ø°ÙŠ Ø§Ø³ØªÙ‚Ø±Øª Ø¹Ù„ÙŠÙ‡ Ø³ÙÙŠÙ†Ø© Ù†ÙˆØ­ØŸ', opts:['Ø§Ù„Ø·ÙˆØ±','Ø§Ù„Ø¬ÙˆØ¯ÙŠ','Ø£Ø­Ø¯','Ø¹Ø±ÙØ§Øª'], a:1},
    {q:'ÙƒÙ… Ù…Ø±Ø© ÙˆØ±Ø¯ Ø§Ø³Ù… Ù…Ø­Ù…Ø¯ ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ', opts:['2','3','4','5'], a:2},
    {q:'ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø£Ø¨Ø¬Ø¯ÙŠØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŸ', opts:['26','28','29','27'], a:1}
  ];

  // Generic quiz engine
  function setupQuiz(prefix, questions) {
    let idx=0, sc=0;
    const qEl = document.getElementById(`q-${prefix}`),
          oEl = document.getElementById(`opts-${prefix}`),
          fEl = document.getElementById(`fb-${prefix}`),
          nBtn= document.getElementById(`next-${prefix}`);
    function showQ(){
      const it = questions[idx];
      qEl.textContent = it.q;
      oEl.innerHTML = '';
      it.opts.forEach((o,i)=>{
        const b=document.createElement('button');
        b.textContent=o; b.className='option';
        b.onclick=()=>{ if(i===it.a) sc++; fEl.textContent = i===it.a?'Ø¬ÙˆØ§Ø¨Ùƒ ØµØ­ÙŠØ­':'Ø¬ÙˆØ§Ø¨Ùƒ Ø®Ø·Ø£';
          oEl.querySelectorAll('button').forEach(x=>x.disabled=true);
          nBtn.style.display='inline-block';
        };
        oEl.append(b);
      });
      fEl.textContent=''; nBtn.style.display='none';
    }
    nBtn.onclick=()=>{
      idx++;
      if(idx<questions.length) showQ();
      else finish();
    };
    function finish(){
      qEl.textContent='Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±';
      oEl.innerHTML = `<p>Ù†Ù‚Ø§Ø·Ùƒ: ${sc}/${questions.length}</p>`;
      nBtn.style.display='none';
      saveScore(prefix, sc);
    }
    showQ();
  }
  function saveScore(test, s){
    const key = `lb_${test}`;
    let lb = JSON.parse(localStorage.getItem(key)||'{}');
    let scores = lb[playerID] || {name: player, score: 0};
    if(s > scores.score) lb[playerID] = {name: player, score: s};
    else lb[playerID] = {name: player, score: scores.score};
    localStorage.setItem(key, JSON.stringify(lb));
    renderLB('science','lb-sci');
    renderLB('religion','lb-rel');
  }
  setupQuiz('science', sciQ);
  setupQuiz('religion', relQ);

  // Leaderboard
  function renderLB(key, tbodyId){
    const lb = JSON.parse(localStorage.getItem(`lb_${key}`)||'{}');
    let arr = Object.entries(lb).map(([id, obj])=>({id, name: obj.name, score: obj.score}));
    arr.sort((a,b)=>b.score-a.score);
    const body= document.getElementById(tbodyId);
    if(!arr.length) body.innerHTML=`<tr><td colspan="4">Ù„Ø§ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>`;
    else body.innerHTML = arr.map(e=>
      `<tr>
        <td>${e.name}</td>
        <td>${e.id}</td>
        <td>${e.score}</td>
        <td><button onclick="navigator.clipboard.writeText('${e.id}');alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù: ${e.id}')">Ù†Ø³Ø®</button></td>
      </tr>`
    ).join('');
  }
  renderLB('science','lb-sci');
  renderLB('religion','lb-rel');

  // Admin panel
  const panel = document.getElementById('admin-panel'),
        auth = document.getElementById('admin-auth'),
        ctrls = document.getElementById('admin-controls');
  document.getElementById('open-admin').onclick = ()=> panel.style.display='block';
  function loginAdmin(){
    if(document.getElementById('admin-pass').value==='admin123'){
      auth.style.display='none'; ctrls.style.display='block';
    } else alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø§Ø·Ø¦Ø©');
  }
  function banUser(){
    const id=document.getElementById('ban-id').value,
          m= +document.getElementById('ban-min').value;
    localStorage.setItem(`ban_${id}`, Date.now()+m*60000);
    alert('ØªÙ… Ø­Ø¸Ø± '+id);
  }
  function unbanUser(){
    const id=document.getElementById('unban-id').value;
    localStorage.removeItem(`ban_${id}`);
    alert('ÙÙƒ Ø§Ù„Ø­Ø¸Ø± '+id);
  }
  function sendMessage(){
    const id=document.getElementById('msg-id').value,
          txt=document.getElementById('msg-txt').value,
          t= +document.getElementById('msg-times').value;
    for(let i=0;i<t;i++) console.log(`Message to ${id}: ${txt}`);
    alert('ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
  }
  function applyMaintenance(){
    const mode=document.getElementById('maint-mode').value,
          m=+document.getElementById('maint-min').value;
    localStorage.setItem('maint', mode);
    if(mode==='on') setTimeout(()=> localStorage.setItem('maint','off'), m*60000);
    alert('ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØµÙŠØ§Ù†Ø©');
  }
  if(localStorage.getItem('maint')==='on'){
    document.body.innerHTML='<h1 style="text-align:center;margin-top:50px;">Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØªØ­Øª Ø§Ù„ØµÙŠØ§Ù†Ø©</h1>';
  }
  function grantAdmin(){
    const id=document.getElementById('grant-id').value;
    localStorage.setItem(`admin_${id}`, 'true');
    alert('Ù…Ù†Ø­ ØµÙ„Ø§Ø­ÙŠØ© Ø£Ø¯Ù…Ù† Ù„Ù€ '+id);
  }
  function updateScoreAdmin(){
    const id=document.getElementById('score-id').value,
          v=+document.getElementById('score-val').value;
    let lbi = JSON.parse(localStorage.getItem('lb_science')||'{}');
    if(lbi[id]) lbi[id].score = v;
    localStorage.setItem('lb_science', JSON.stringify(lbi));
    lbi = JSON.parse(localStorage.getItem('lb_religion')||'{}');
    if(lbi[id]) lbi[id].score = v;
    localStorage.setItem('lb_religion', JSON.stringify(lbi));
    alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø·');
    renderLB('science','lb-sci');
    renderLB('religion','lb-rel');
  }
  function closeAdmin(){ panel.style.display='none'; auth.style.display='block'; ctrls.style.display='none'; }
</script>

</body>
</html>
