<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ALSHIEK_Ø§Ù„Ø´Ù€ÙŠÙ€Ù€Ø®</title>
  <style>
    /* Reset & Basic Styles */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to bottom, #1c1c1c, #2b2b2b);
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    h1 { font-size: 3em; color: #00ffe7; text-shadow: 0 0 10px #00ffe7; margin-bottom: 10px; }
    p { font-size: 1.2em; color: #ccc; margin-bottom: 20px; }

    /* Buttons & Links */
    button, select { margin: 10px; padding: 10px 20px; font-size: 1em; border: none; border-radius: 8px; cursor: pointer; }
    button { background: #ff0066; color: #fff; box-shadow: 0 0 10px #ff0066; transition: .3s; }
    button:hover { background: #ff3388; transform: scale(1.05); }
    select { background: #00aaff; color: #fff; }
    a { margin: 5px; padding: 10px 15px; display: inline-block; background: #00aaff; color: #fff; border-radius: 8px; text-decoration: none; box-shadow: 0 0 10px #00aaff; transition: .3s; }
    a:hover { background: #33bbff; transform: scale(1.05); }
    footer { margin-top: 40px; font-size: .9em; color: #999; }

    /* Clock Containers */
    #clocks { display: flex; justify-content: space-around; flex-wrap: wrap; margin-top: 30px; }
    .clock-container { position: relative; width: 250px; height: 250px; margin: 15px; background: #222; border-radius: 50%; box-shadow: inset 0 0 20px rgba(0,0,0,.5); }
    .clock-canvas { position: absolute; top: 0; left: 0; }
    .digital-clock { color: #00ffe7; font-size: 1.4em; margin-top: 10px; }

    /* Prayer Times Table */
    #prayer-section { margin-top: 40px; }
    #prayers { width: 100%; max-width: 500px; margin: 0 auto; border-collapse: collapse; }
    #prayers th, #prayers td { padding: 8px 12px; border: 1px solid #444; }
    #prayers th { background: #333; }

    /* Qibla Direction */
    #qibla { margin-top: 30px; }
    #qibla-canvas { background: #222; border-radius: 50%; }
  </style>
</head>
<body>
  <h1>Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ ÙÙŠ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø´ÙŠØ®</h1>
  <p>ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© alshiek</p>

  <!-- Audio Toggle -->
  <button onclick="toggleAudio()">ØªØ´ØºÙŠÙ„ / Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø£ØºÙ†ÙŠØ©</button>
  <audio id="myAudio" loop>
    <source src="song.mp3" type="audio/mpeg">
    Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª.
  </audio>

  <!-- Clocks Section -->
  <div id="clocks">
    <div class="clock-container">
      <canvas id="analogClock" class="clock-canvas" width="250" height="250"></canvas>
      <div id="digitalClock" class="digital-clock"></div>
    </div>
    <div class="clock-container">
      <canvas id="analogClockLeb" class="clock-canvas" width="250" height="250"></canvas>
      <div id="digitalClockLeb" class="digital-clock"></div>
    </div>
  </div>

  <!-- Prayer Times Selection -->
  <div id="prayer-section">
    <h2>Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</h2>
    <select id="countrySelect"></select>
    <table id="prayers">
      <thead>
        <tr><th>Ø§Ù„ØµÙ„Ø§Ø©</th><th>Ø§Ù„ÙˆÙ‚Øª</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Qibla Direction -->
  <div id="qibla">
    <h2>Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©</h2>
    <canvas id="qibla-canvas" width="200" height="200"></canvas>
    <div id="qibla-angle"></div>
  </div>

  <!-- Links -->
  <div style="margin-top: 30px;">
    <a href="https://t.me/HNR55" target="_blank">Ø±Ø§Ø³Ù„Ù†ÙŠ Ø¹Ù„Ù‰ ØªÙ„ÙŠØ¬Ø±Ø§Ù…</a>
    <a href="https://www.amazon.com/T3-develper-Car-Fury/dp/B0DWY3QHWF" target="_blank">ØªØ­Ù…ÙŠÙ„ CarFury</a>
    <a href="https://t.me/Developer160" target="_blank">Ù‚Ù†Ø§Ø© Ø§Ù„Ù…Ø·ÙˆØ±ÙŠÙ†</a>
    <a href="https://t.me/+LM2b9cRHxmA2YmU8" target="_blank">Ù‚Ù†Ø§Ø© Car Fury</a>
  </div>

  <footer>&copy; 2025 - Made with madness by ãƒ„ã€ŠğŸ‘‘ã€‹Í²ï¼“ã€ŠØ´Ù€Ù€ÙŠÙ€Ø®ã€‹</footer>

  <script>
    // Audio Toggle
    function toggleAudio() {
      const audio = document.getElementById('myAudio');
      audio.paused ? audio.play() : audio.pause();
    }

    // Draw Analog Clock
    function drawClock(canvas, date) {
      const ctx = canvas.getContext('2d');
      const radius = canvas.width / 2;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.translate(radius, radius);
      ctx.strokeStyle = '#00ffe7';
      ctx.fillStyle = '#000';
      ctx.lineWidth = radius * 0.05;
      ctx.lineCap = 'round';

      // Face
      ctx.beginPath();
      ctx.arc(0, 0, radius * 0.95, 0, 2 * Math.PI);
      ctx.fill();
      ctx.stroke();

      // Numbers
      ctx.font = radius * 0.15 + 'px arial';
      ctx.textBaseline = 'middle';
      ctx.textAlign = 'center';
      for (let num = 1; num <= 12; num++) {
        const ang = num * Math.PI / 6;
        ctx.rotate(ang);
        ctx.translate(0, -radius * 0.8);
        ctx.rotate(-ang);
        ctx.fillStyle = '#fff';
        ctx.fillText(num.toString(), 0, 0);
        ctx.rotate(ang);
        ctx.translate(0, radius * 0.8);
        ctx.rotate(-ang);
      }

      // Hands
      const sec = date.getSeconds();
      const min = date.getMinutes();
      const hr = date.getHours();
      drawHand(ctx, ((hr % 12 + min / 60 + sec / 3600) * Math.PI / 6), radius * 0.5, radius * 0.07);
      drawHand(ctx, ((min + sec / 60) * Math.PI / 30), radius * 0.8, radius * 0.07);
      drawHand(ctx, (sec * Math.PI / 30), radius * 0.9, radius * 0.02, '#ff0066');

      ctx.translate(-radius, -radius);
    }

    function drawHand(ctx, pos, length, width, color) {
      ctx.beginPath();
      ctx.lineWidth = width;
      ctx.strokeStyle = color || '#00ffe7';
      ctx.moveTo(0, 0);
      ctx.rotate(pos);
      ctx.lineTo(0, -length);
      ctx.stroke();
      ctx.rotate(-pos);
    }

    // Initialize Clocks
    function initClocks() {
      const c1 = document.getElementById('analogClock');
      const c2 = document.getElementById('analogClockLeb');
      function update() {
        const now = new Date();
        drawClock(c1, now);
        document.getElementById('digitalClock').textContent =
          now.toLocaleTimeString('ar-EG');
        const lebNow = new Date(now.toLocaleString('en-US', {
          timeZone: 'Asia/Beirut'
        }));
        drawClock(c2, lebNow);
        document.getElementById('digitalClockLeb').textContent =
          lebNow.toLocaleTimeString('ar-EG');
      }
      setInterval(update, 1000);
      update();
    }

    // Prayer Times via Aladhan API
    const countries = ['Lebanon', 'Egypt', 'Saudi Arabia', 'Jordan', 'UAE'];
    function initPrayerSection() {
      const sel = document.getElementById('countrySelect');
      countries.forEach(c => {
        const opt = document.createElement('option');
        opt.value = c;
        opt.text = c;
        sel.add(opt);
      });
      sel.addEventListener('change', fetchPrayers);
      fetchPrayers();
    }
    function fetchPrayers() {
      const country = document.getElementById('countrySelect').value;
      fetch(`https://api.aladhan.com/v1/timingsByCity?city=${country}&country=${country}&method=2`)
        .then(res => res.json())
        .then(data => {
          const times = data.data.timings;
          const tbody = document.querySelector('#prayers tbody');
          tbody.innerHTML = '';
          ['Fajr','Dhuhr','Asr','Maghrib','Isha'].forEach(p => {
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${p}</td><td>${times[p]}</td>`;
            tbody.appendChild(tr);
          });
        })
        .catch(err => console.error(err));
    }

    // Qibla Direction
    function initQibla() {
      const canvas = document.getElementById('qibla-canvas');
      const ctx = canvas.getContext('2d');
      const info = document.getElementById('qibla-angle');
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          const kaabaLat = 21.422487;
          const kaabaLon = 39.826206;
          const dLon = (kaabaLon - lon) * Math.PI / 180;
          const y = Math.sin(dLon) * Math.cos(kaabaLat * Math.PI / 180);
          const x = Math.cos(lat * Math.PI / 180) * Math.sin(kaabaLat * Math.PI / 180)
                  - Math.sin(lat * Math.PI / 180) * Math.cos(kaabaLat * Math.PI / 180) * Math.cos(dLon);
          let brng = Math.atan2(y, x) * 180 / Math.PI;
          brng = (brng + 360) % 360;
          info.textContent = `Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ù†Ø­Ùˆ Ø§Ù„ÙƒØ¹Ø¨Ø©: ${Math.round(brng)}Â°`;
          drawCompass(ctx, brng);
        }, err => info.textContent = 'ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹.');
      } else {
        info.textContent = 'Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹.';
      }
    }
    function drawCompass(ctx, angle) {
      const size = ctx.canvas.width;
      const r = size / 2;
      ctx.clearRect(0, 0, size, size);
      ctx.save();
      ctx.translate(r, r);
      // Outer circle
      ctx.beginPath();
      ctx.arc(0, 0, r * 0.9, 0, 2 * Math.PI);
      ctx.strokeStyle = '#00ffe7';
      ctx.lineWidth = 4;
      ctx.stroke();
      // Arrow
      ctx.rotate((angle - 90) * Math.PI / 180);
      ctx.beginPath();
      ctx.moveTo(0, -r * 0.7);
      ctx.lineTo(r * 0.1, -r * 0.2);
      ctx.lineTo(-r * 0.1, -r * 0.2);
      ctx.closePath();
      ctx.fillStyle = '#ff0066';
      ctx.fill();
      ctx.restore();
    }

    // Initialize All Features
    window.onload = () => {
      initClocks();
      initPrayerSection();
      initQibla();
    };
  </script>
</body>
</html>
