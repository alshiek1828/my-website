<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ALSHIEK_Ø§Ù„Ø´Ù€ÙŠÙ€Ù€Ø® - Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</title>
  <style>
    /* Reset */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to bottom, #1c1c1c, #2b2b2b);
      color: #fff; direction: rtl;
    }
    header, footer { text-align: center; padding: 20px; }
    header h1 { font-size: 2.5em; color: #00ffe7; text-shadow: 0 0 10px #00ffe7; }
    nav { text-align: center; margin: 10px 0; }
    nav button {
      background: #ff0066; color: #fff; border: none; padding: 10px 20px;
      margin: 0 5px; border-radius: 20px; cursor: pointer;
      box-shadow: 0 0 10px #ff0066; transition: .3s;
    }
    nav button.active, nav button:hover { background: #ff3388; transform: scale(1.05); }
    section { display: none; padding: 20px; }
    section.active { display: block; }
    .btn { background: #00aaff; color: #fff; border: none; padding: 10px 20px;
           border-radius: 20px; cursor: pointer; box-shadow: 0 0 10px #00aaff;
           transition: .3s; margin: 5px; }
    .btn:hover { background: #33bbff; transform: scale(1.05); }
    .option { display: block; background: #444; color: #fff; border: none;
              padding: 10px; margin: 8px auto; width: 80%; max-width: 400px;
              border-radius: 10px; cursor: pointer; transition: .2s; text-align: left; }
    .option:hover { background: rgba(255,255,255,0.1); }
    #feedback { margin-top: 20px; font-size: 1.2em; }
    #next { display: none; margin-top: 20px; }
    table { width: 90%; margin: 10px auto; border-collapse: collapse; }
    th, td { border: 1px solid #555; padding: 10px; text-align: center; }
    th { background: #222; }
    #admin-panel { display: none; position: fixed; top:0; left:0; width:100%; height:100%;
                   background: rgba(0,0,0,0.9); color:#fff; overflow:auto; padding:20px; z-index:10000; }
    #admin-panel h2 { margin-bottom: 10px; }
    #admin-panel .section { margin-bottom: 20px; border-bottom:1px solid #555; padding-bottom: 15px; }
    #admin-panel label { display: block; margin: 5px 0; text-align: left; }
    #admin-panel input, #admin-panel textarea, #admin-panel select {
      width: 100%; padding:8px; margin-bottom:10px; background:#333; border:1px solid #555; color:#fff;
    }
    #admin-panel button { margin:5px 0; padding:8px 16px; }
    #settings-panel { display: none; position: fixed; top:0; left:0; width:100%; height:100%;
      background: rgba(0,0,0,0.7); color:#fff; overflow:auto; padding:20px; z-index:9999;}
    #settings-panel label {display:block;margin:10px 0 5px;}
    #settings-panel input {width:100%;padding:8px;margin-bottom:10px;background:#222;border:1px solid #555;color:#fff;}
    #settings-panel button {margin:5px 0;padding:8px 16px;}
  </style>
</head>
<body>

  <header>
    <h1>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</h1>
  </header>

  <nav>
    <button data-tab="home" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <button data-tab="science">Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ù„Ù…ÙŠ</button>
    <button data-tab="religion">Ø§Ø®ØªØ¨Ø§Ø± Ø¯ÙŠÙ†ÙŠ</button>
    <button data-tab="leaderboard">Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</button>
    <button id="open-admin">Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</button>
    <button id="open-settings">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
  </nav>

  <!-- Home -->
  <section id="home" class="active">
    <p id="greeting"></p>
    <button class="btn" onclick="showTab('science')">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¹Ù„Ù…ÙŠ</button>
    <button class="btn" onclick="showTab('religion')">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯ÙŠÙ†ÙŠ</button>
    <button class="btn" onclick="showTab('leaderboard')">Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</button>
  </section>

  <!-- Science Quiz -->
  <section id="science">
    <h2>Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ù„Ù…ÙŠ</h2>
    <div id="q-science"></div>
    <div id="opts-science"></div>
    <div id="fb-science"></div>
    <button id="next-science" class="btn">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </section>

  <!-- Religion Quiz -->
  <section id="religion">
    <h2>Ø§Ø®ØªØ¨Ø§Ø± Ø¯ÙŠÙ†ÙŠ</h2>
    <div id="q-religion"></div>
    <div id="opts-religion"></div>
    <div id="fb-religion"></div>
    <button id="next-religion" class="btn">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </section>

  <!-- Leaderboard -->
  <section id="leaderboard">
    <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</h2>
    <h3>Ø¹Ù„Ù…ÙŠ</h3>
    <table><tr><th>Ø§Ø³Ù…</th><th>Ù…Ø¹Ø±Ù‘Ù</th><th>Ù†Ù‚Ø§Ø·</th><th>Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù</th></tr><tbody id="lb-sci"></tbody></table>
    <h3>Ø¯ÙŠÙ†ÙŠ</h3>
    <table><tr><th>Ø§Ø³Ù…</th><th>Ù…Ø¹Ø±Ù‘Ù</th><th>Ù†Ù‚Ø§Ø·</th><th>Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù</th></tr><tbody id="lb-rel"></tbody></table>
  </section>

  <!-- Admin Panel -->
  <div id="admin-panel">
    <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</h2>
    <div class="section" id="admin-auth">
      <label>ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø£Ø¯Ù…Ù†:</label>
      <input type="password" id="admin-pass">
      <button onclick="loginAdmin()">Ø¯Ø®ÙˆÙ„</button>
    </div>
    <div class="section" id="admin-controls" style="display:none;">
      <h3>Ø­Ø¸Ø±/ÙÙƒ Ø­Ø¸Ø± Ù…Ø³ØªØ®Ø¯Ù…</h3>
      <label>ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label><input type="text" id="ban-id">
      <label>Ù…Ø¯Ø© Ø§Ù„Ø­Ø¸Ø± (Ø¯Ù‚Ø§Ø¦Ù‚):</label><input type="number" id="ban-min" value="60">
      <button onclick="banUser()">Ø­Ø¸Ø±</button>
      <label>ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label><input type="text" id="unban-id">
      <button onclick="unbanUser()">ÙÙƒ Ø§Ù„Ø­Ø¸Ø±</button>

      <h3>Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©</h3>
      <label>ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label><input type="text" id="msg-id">
      <label>Ø§Ù„Ù…Ø­ØªÙˆÙ‰:</label><textarea id="msg-txt"></textarea>
      <label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª:</label><input type="number" id="msg-times" value="1">
      <button onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>

      <h3>ÙˆØ¶Ø¹ Ø§Ù„ØµÙŠØ§Ù†Ø©</h3>
      <label>Ø§Ù„Ø­Ø§Ù„Ø©:</label>
      <select id="maint-mode"><option value="off">Ø¥ÙŠÙ‚Ø§Ù</option><option value="on">ØªØ´ØºÙŠÙ„</option></select>
      <label>Ø§Ù„Ù…Ø¯Ø© (Ø¯Ù‚Ø§Ø¦Ù‚):</label><input type="number" id="maint-min" value="30">
      <button onclick="applyMaintenance()">ØªØ·Ø¨ÙŠÙ‚</button>

      <h3>Ù…Ù†Ø­ ØµÙ„Ø§Ø­ÙŠØ© Ø£Ø¯Ù…Ù†</h3>
      <label>ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label><input type="text" id="grant-id">
      <button onclick="grantAdmin()">Ù…Ù†Ø­</button>

      <h3>ØªØ¹Ø¯ÙŠÙ„ Ù†Ù‚Ø§Ø·</h3>
      <label>ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label><input type="text" id="score-id">
      <label>Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</label><input type="number" id="score-val">
      <button onclick="updateScoreAdmin()">ØªØ­Ø¯ÙŠØ«</button>

      <h3>ØªØµÙÙŠØ± Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</h3>
      <label>Ø§Ø®ØªØ± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù„ØªØµÙÙŠØ± Ù‚Ø§Ø¦Ù…ØªÙ‡Ø§:</label>
      <select id="reset-quiz">
        <option value="science">Ø¹Ù„Ù…ÙŠ</option>
        <option value="religion">Ø¯ÙŠÙ†ÙŠ</option>
        <option value="both">ÙƒÙ„ÙŠÙ‡Ù…Ø§</option>
      </select>
      <button onclick="resetLeaderboard()">ØªØµÙÙŠØ±</button>

      <button onclick="closeAdmin()">Ø®Ø±ÙˆØ¬</button>
    </div>
  </div>

  <!-- Settings Panel -->
  <div id="settings-panel">
    <h2>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
    <label>Ø§Ø³Ù…Ùƒ:</label>
    <input type="text" id="settings-name">
    <label>Ù…Ø¹Ø±Ù‘ÙÙƒ Ø§Ù„Ø´Ø®ØµÙŠ:</label>
    <input type="text" id="settings-id" readonly>
    <button onclick="copyID()">Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù‘Ù</button>
    <button onclick="saveName()">Ø­ÙØ¸ Ø§Ù„Ø§Ø³Ù…</button>
    <button onclick="closeSettings()">Ø¥ØºÙ„Ø§Ù‚</button>
  </div>

  <footer>&copy; 2025 - Made with madness by ãƒ„ã€ŠğŸ‘‘ã€‹Í²ï¼“ã€ŠØ´Ù€Ù€ÙŠÙ€Ø®ã€‹</footer>

<script>
  // Unique ID functions
  function generateID() {
    return 'ID-' + Math.random().toString(36).substr(2,8) + '-' + Date.now().toString(36).substr(-4);
  }
  let player = localStorage.getItem('playerName');
  let playerID = localStorage.getItem('playerID');
  if(!player || !playerID) {
    do {
      player = prompt('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª:') || '';
    } while(!player.trim());
    playerID = generateID();
    localStorage.setItem('playerName', player);
    localStorage.setItem('playerID', playerID);
  }
  document.getElementById('greeting').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${player}! Ù…Ø¹Ø±Ù‘ÙÙƒ: ${playerID}`;

  // Settings Panel logic
  document.getElementById('open-settings').onclick = function() {
    document.getElementById('settings-name').value = player;
    document.getElementById('settings-id').value = playerID;
    document.getElementById('settings-panel').style.display = 'block';
  }
  function closeSettings() {
    document.getElementById('settings-panel').style.display = 'none';
  }
  function copyID() {
    navigator.clipboard.writeText(playerID);
    alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù‘Ù: " + playerID);
  }
  function saveName() {
    let newName = document.getElementById('settings-name').value.trim();
    if(newName) {
      player = newName;
      localStorage.setItem('playerName', player);
      document.getElementById('greeting').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${player}! Ù…Ø¹Ø±Ù‘ÙÙƒ: ${playerID}`;
      alert('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù…');
    }
    closeSettings();
    renderLB('science', 'lb-sci');
    renderLB('religion', 'lb-rel');
  }

  // Tab switching
  document.querySelectorAll('nav button[data-tab]').forEach(btn=>{
    btn.onclick = ()=> showTab(btn.dataset.tab);
  });
  function showTab(tab) {
    document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
    document.querySelector(`[data-tab="${tab}"]`).classList.add('active');
    document.querySelectorAll('section').forEach(sec=>sec.classList.remove('active'));
    document.getElementById(tab).classList.add('active');
  }

  // Quiz data (cisibility)
  const sciQ = [ /* ...Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¹Ù„Ù… ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ø³Ø§Ø¨Ù‚... */ ];
  const relQ = [ /* ...Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¯ÙŠÙ† ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ø³Ø§Ø¨Ù‚... */ ];

  // Quiz engine
  function setupQuiz(prefix, questions) {
    let idx=0, sc=0;
    const qEl = document.getElementById(`q-${prefix}`),
          oEl = document.getElementById(`opts-${prefix}`),
          fEl = document.getElementById(`fb-${prefix}`),
          nBtn= document.getElementById(`next-${prefix}`);
    function showQ(){
      const it = questions[idx];
      qEl.textContent = it.q;
      oEl.innerHTML = '';
      it.opts.forEach((o,i)=>{
        const b=document.createElement('button');
        b.textContent=o; b.className='option';
        b.onclick=()=>{
          if(i===it.a) sc++;
          fEl.textContent = i===it.a?'Ø¬ÙˆØ§Ø¨Ùƒ ØµØ­ÙŠØ­':'Ø¬ÙˆØ§Ø¨Ùƒ Ø®Ø·Ø£';
          oEl.querySelectorAll('button').forEach(x=>x.disabled=true);
          nBtn.style.display='inline-block';
        };
        oEl.append(b);
      });
      fEl.textContent=''; nBtn.style.display='none';
    }
    nBtn.onclick=()=>{
      idx++;
      if(idx<questions.length) showQ();
      else finish();
    };
    function finish(){
      qEl.textContent='Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±';
      oEl.innerHTML = `<p>Ù†Ù‚Ø§Ø·Ùƒ: ${sc}/${questions.length}</p>`;
      nBtn.style.display='none';
      saveScore(prefix, sc);
    }
    showQ();
  }
  function saveScore(test, s){
    const key = `lb_${test}`;
    let lb = JSON.parse(localStorage.getItem(key)||'{}');
    let scores = lb[playerID] || {name: player, score: 0};
    if(s > scores.score) lb[playerID] = {name: player, score: s};
    else lb[playerID] = {name: player, score: scores.score};
    localStorage.setItem(key, JSON.stringify(lb));
    renderLB('science','lb-sci');
    renderLB('religion','lb-rel');
  }
  setupQuiz('science', sciQ);
  setupQuiz('religion', relQ);

  // Leaderboard rendering
  function renderLB(key, tbodyId){
    const lb = JSON.parse(localStorage.getItem(`lb_${key}`)||'{}');
    let arr = Object.entries(lb).map(([id, obj])=>({id, name: obj.name, score: obj.score}));
    arr.sort((a,b)=>b.score-a.score);
    const body= document.getElementById(tbodyId);
    if(!arr.length) body.innerHTML=`<tr><td colspan="4">Ù„Ø§ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>`;
    else body.innerHTML = arr.map(e=>
      `<tr>
        <td>${e.name}</td>
        <td>${e.id}</td>
        <td>${e.score}</td>
        <td><button onclick="navigator.clipboard.writeText('${e.id}');alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù…Ø¹Ø±Ù: ${e.id}')">Ù†Ø³Ø®</button></td>
      </tr>`
    ).join('');
  }
  renderLB('science','lb-sci');
  renderLB('religion','lb-rel');

  // Admin panel logic
  const panel = document.getElementById('admin-panel'),
        auth = document.getElementById('admin-auth'),
        ctrls = document.getElementById('admin-controls');
  document.getElementById('open-admin').onclick = ()=> panel.style.display='block';
  function loginAdmin(){
    if(document.getElementById('admin-pass').value==='admin123'){
      auth.style.display='none'; ctrls.style.display='block';
    } else alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø§Ø·Ø¦Ø©');
  }
  function banUser(){
    const id=document.getElementById('ban-id').value,
          m= +document.getElementById('ban-min').value;
    localStorage.setItem(`ban_${id}`, Date.now()+m*60000);
    alert('ØªÙ… Ø­Ø¸Ø± '+id);
  }
  function unbanUser(){
    const id=document.getElementById('unban-id').value;
    localStorage.removeItem(`ban_${id}`);
    alert('ÙÙƒ Ø§Ù„Ø­Ø¸Ø± '+id);
  }
  function sendMessage(){
    const id=document.getElementById('msg-id').value,
          txt=document.getElementById('msg-txt').value,
          t= +document.getElementById('msg-times').value;
    for(let i=0;i<t;i++) console.log(`Message to ${id}: ${txt}`);
    alert('ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
  }
  function applyMaintenance(){
    const mode=document.getElementById('maint-mode').value,
          m=+document.getElementById('maint-min').value;
    localStorage.setItem('maint', mode);
    if(mode==='on') setTimeout(()=> localStorage.setItem('maint','off'), m*60000);
    alert('ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØµÙŠØ§Ù†Ø©');
  }
  if(localStorage.getItem('maint')==='on'){
    document.body.innerHTML='<h1 style="text-align:center;margin-top:50px;">Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØªØ­Øª Ø§Ù„ØµÙŠØ§Ù†Ø©</h1>';
  }
  function grantAdmin(){
    const id=document.getElementById('grant-id').value;
    localStorage.setItem(`admin_${id}`, 'true');
    alert('Ù…Ù†Ø­ ØµÙ„Ø§Ø­ÙŠØ© Ø£Ø¯Ù…Ù† Ù„Ù€ '+id);
  }
  function updateScoreAdmin(){
    const id=document.getElementById('score-id').value,
          v=+document.getElementById('score-val').value;
    ['science','religion'].forEach(test=>{
      let lb = JSON.parse(localStorage.getItem(`lb_${test}`)||'{}');
      if(lb[id]) lb[id].score = v;
      localStorage.setItem(`lb_${test}`, JSON.stringify(lb));
    });
    alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø·');
    renderLB('science','lb-sci');
    renderLB('religion','lb-rel');
  }
  function resetLeaderboard(){
    const sel = document.getElementById('reset-quiz').value;
    if(sel==='science' || sel==='both') localStorage.removeItem('lb_science');
    if(sel==='religion' || sel==='both') localStorage.removeItem('lb_religion');
    alert('ØªÙ… ØªØµÙÙŠØ± Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†: ' + (sel==='both'?'ÙƒÙ„ÙŠÙ‡Ù…Ø§':sel==='science'?'Ø§Ù„Ø¹Ù„Ù…ÙŠ':'Ø§Ù„Ø¯ÙŠÙ†ÙŠ'));
    renderLB('science','lb-sci');
    renderLB('religion','lb-rel');
  }
  function closeAdmin(){
    panel.style.display='none';
    auth.style.display='block';
    ctrls.style.display='none';
    document.getElementById('admin-pass').value = '';
  }
</script>

</body>
</html>
