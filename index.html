<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>القرآن الكريم</title>
  <style>
    /* Reset & Base */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #fdfcf0; color: #333; line-height: 1.6; }
    a { color: inherit; text-decoration: none; }/* Layout */
header, footer { text-align: center; padding: 2rem 1rem; background: linear-gradient(135deg, #00695c, #00897b); color: #fff; }
main { max-width: 900px; margin: 2rem auto; padding: 0 1rem; }

/* Header */
header h1 { font-size: 3rem; letter-spacing: 2px; margin-bottom: .5rem; font-weight: bold; }
header h2 { font-size: 1.2rem; font-style: italic; opacity: .85; margin-bottom: 1.5rem; }
.clock { font-size: 1.2rem; opacity: .85; }

/* Surah Selection */
.surah-container { margin: 2rem 0; display: flex; flex-direction: column; gap: .5rem; }
.surah-container label { font-weight: bold; font-size: 1.1rem; }
select { padding: .7rem; border-radius: 8px; border: 1px solid #ccc; font-size: 1rem; }

/* Audio Controls */
.audio-controls { display: flex; align-items: center; gap: .8rem; margin-bottom: 1.5rem; }
.audio-controls button { background: #00897b; border: none; color: #fff; padding: .8rem; border-radius: 50%; font-size: 1.2rem; cursor: pointer; transition: background .3s; }
.audio-controls button:hover { background: #00695c; }
.progress-bar { flex: 1; height: 6px; background: #e0e0e0; border-radius: 4px; overflow: hidden; cursor: pointer; }
.progress { height: 100%; background: #00897b; width: 0%; }
#timeDisplay { font-size: .9rem; min-width: 80px; text-align: right; }

/* Verses */
.verses { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
.verse { background: #fff; border-radius: 8px; padding: 1rem; box-shadow: 0 4px 8px rgba(0,0,0,0.05); font-size: .95rem; }

/* Rating */
.rating { display: flex; justify-content: center; gap: .3rem; margin-top: .5rem; }
.star { font-size: 1.8rem; cursor: pointer; transition: transform .2s; }
.star:hover { transform: scale(1.2); }
.active { color: gold; }

/* Prayer Button */
.btn-open-prayer { display: block; width: 100%; padding: 1rem; margin-bottom: 2rem; background: #ff6f00; color: #fff; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; transition: background .3s; }
.btn-open-prayer:hover { background: #e65100; }

/* Controls Links */
.controls { display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem; margin-bottom: 2rem; }
.controls a {
  position: relative;
  padding: .7rem 1.2rem;
  border-radius: 8px;
  font-weight: bold;
  background: linear-gradient(45deg, #ff8a00, #e52e71);
  color: transparent;
  background-clip: text;
  -webkit-background-clip: text;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
  transition: transform .2s;
}
.controls a::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(255,255,255,0.1);
  border-radius: 8px;
  opacity: 0;
  transition: opacity .3s;
}
.controls a:hover {
  transform: translateY(-3px);
}
.controls a:hover::before {
  opacity: 1;
}

/* Footer */
footer { font-size: .9rem; position: relative; }
footer .maker { margin-top: .5rem; font-style: italic; opacity: .8; }

  </style>
</head>
<body>
  <header>
    <h1>بسم الله الرحمن الرحيم</h1>
    <h2>مرحباً بك في بوابتك التفاعلية لقراءة القرآن الكريم والاستماع إليه بأصوات الشيوخ بجودة عالية</h2>
    <div class="clock" id="clock"></div>
  </header>
  <main>
    <div class="surah-container">
      <label for="surahSelect">اختر السورة:</label>
      <select id="surahSelect"></select>
      <div class="rating" id="rating"></div>
    </div><div class="audio-controls">
  <button id="backward">⏪</button>
  <button id="playPause">▶️</button>
  <button id="forward">⏩</button>
  <div class="progress-bar" id="progressBar"><div class="progress" id="progress"></div></div>
  <span id="timeDisplay">00:00 / 00:00</span>
</div>

<div class="verses" id="verses"></div>

<button class="btn-open-prayer" onclick="window.open('https://timesprayer.today/', '_blank')">
  عرض مواقيت الصلاة مباشرة
</button>

<div class="controls">
  <a href="https://t.me/HNR55" target="_blank">راسلني على تليجرام</a>
  <a href="https://www.amazon.com/T3-develper-Car-Fury/dp/B0DWY3QHWF" target="_blank">تحميل CarFury</a>
  <a href="https://t.me/Developer160" target="_blank">قناة المطورين</a>
  <a href="https://t.me/+LM2b9cRHxmA2YmU8" target="_blank">قناة CarFury</a>
</div>

  </main>
  <footer>
    &copy; 2025 القرآن الكريم
    <div class="maker">Made by AlShiek</div>
  </footer>  <script>
    const surahSelect = document.getElementById('surahSelect');
    const versesDiv = document.getElementById('verses');
    const ratingDiv = document.getElementById('rating');
    const clockEl = document.getElementById('clock');
    const playPauseBtn = document.getElementById('playPause');
    const backwardBtn = document.getElementById('backward');
    const forwardBtn = document.getElementById('forward');
    const progressBar = document.getElementById('progressBar');
    const progress = document.getElementById('progress');
    const timeDisplay = document.getElementById('timeDisplay');

    let audio = new Audio();
    let ayahAudios = [];
    let currentAyah = 0;

    // Clock
    function updateClock() {
      const now = new Date();
      let h = now.getHours();
      const m = now.getMinutes().toString().padStart(2, '0');
      const ampm = h >= 12 ? 'م' : 'ص';
      h = h % 12 || 12;
      clockEl.textContent = `${h}:${m} ${ampm}`;
    }
    setInterval(updateClock, 1000); updateClock();

    // Load Surah List
    async function loadSurahList() {
      const res = await fetch('https://api.alquran.cloud/v1/surah');
      const data = await res.json();
      data.data.forEach(s => {
        const opt = document.createElement('option');
        opt.value = s.number;
        opt.text = `${s.number}. ${s.englishName} - ${s.name}`;
        surahSelect.add(opt);
      });
      const last = localStorage.getItem('lastSurah') || '1';
      surahSelect.value = last;
      loadSurah(last);
    }

    surahSelect.addEventListener('change', () => loadSurah(surahSelect.value));

    // Rating
    function renderRating(surah) {
      ratingDiv.innerHTML = '';
      const saved = localStorage.getItem('rating_' + surah) || 0;
      for (let i = 1; i <= 5; i++) {
        const star = document.createElement('span');
        star.className = 'star' + (i <= saved ? ' active' : '');
        star.textContent = '★';
        star.addEventListener('click', () => { localStorage.setItem('rating_' + surah, i); renderRating(surah);} );
        ratingDiv.appendChild(star);
      }
    }

    async function loadSurah(number) {
      localStorage.setItem('lastSurah', number);
      renderRating(number);
      const res = await fetch(`https://api.alquran.cloud/v1/surah/${number}/ar.alafasy`);
      const data = await res.json();
      versesDiv.innerHTML = '';
      ayahAudios = data.data.ayahs.map(v => v.audio);
      currentAyah = 0;
      data.data.ayahs.forEach(v => {
        const div = document.createElement('div');
        div.className = 'verse';
        div.textContent = v.numberInSurah + '. ' + v.text;
        versesDiv.appendChild(div);
      });
      setupAudio();
      playAyah(currentAyah);
    }

    function playAyah(index) {
      if (index >= ayahAudios.length) return;
      audio.src = ayahAudios[index];
      audio.play();
      playPauseBtn.textContent = '⏸️';
      currentAyah = index;
    }

    audio.onended = () => {
      if (currentAyah + 1 < ayahAudios.length) playAyah(currentAyah + 1);
      else playPauseBtn.textContent = '▶️';
    };

    function setupAudio() {
      playPauseBtn.textContent = '▶️';
      audio.currentTime = 0;
      audio.addEventListener('timeupdate', () => {
        const pct = (audio.currentTime / audio.duration) * 100;
        progress.style.width = pct + '%';
        timeDisplay.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
      });
    }

    function formatTime(sec) {
      if (isNaN(sec)) return '00:00';
      const m = Math.floor(sec / 60).toString().padStart(2, '0');
      const s = Math.floor(sec % 60).toString().padStart(2, '0');
      return `${m}:${s}`;
    }

    playPauseBtn.addEventListener('click', () => {
      if (audio.paused) { audio.play(); playPauseBtn.textContent = '⏸️'; }
      else { audio.pause(); playPauseBtn.textContent = '▶️'; }
    });

    backwardBtn.addEventListener('click', () => audio.currentTime = Math.max(0, audio.currentTime - 5));
    forwardBtn.addEventListener('click', () => audio.currentTime = Math.min(audio.duration, audio.currentTime + 5));

    progressBar.addEventListener('click', e => {
      const rect = progressBar.getBoundingClientRect();
      audio.currentTime = ((e.clientX - rect.left)/rect.width) * audio.duration;
    });

    // Init
    loadSurahList();
  </script></body>
</html>
